// -----------------------------------------------------------------------------
// هذا الملف يحتوي على جميع أنماط CSS الرئيسية للمشروع.
// -----------------------------------------------------------------------------

@use '../abstracts/variables' as var;
@use '../abstracts/mixins' as mixin;
@use 'sass:color';


// School Hero Section


.school-hero {
  background: linear-gradient(135deg, var.$color-primary, var.$color-secondary);
  padding: var.$spacing-lg 0;
  color: var.$color-text-light;
  text-align: center;
  position: relative;
  overflow: hidden;

  h1 {
    font-size: var.$font-size-h1;
    margin-bottom: var.$spacing-md;
    @media (max-width: var.$breakpoint-md) {
      font-size: 3.8rem;
    }
  }

  p {
    font-size: 2rem;
    max-width: 80rem;
    margin: 0 auto;
    opacity: 0.9;
    @media (max-width: var.$breakpoint-md) {
      font-size: 1.6rem;
    }
  }
}

// Search Module
.search-module .search-form {
    .form-group {
        display: grid;
        grid-template-columns: 1fr 12fr 2fr; 
        gap: var.$spacing-sm;
        .search-button {
            background-color:  var.$color-secondary ;
            border: 1px solid var.$color-border;
            border-radius: var.$border-radius-base;
            cursor: pointer;
            color: var.$color-primary-light;
            font-size: 1.6rem;
            padding: 0.5rem;
            transition: color 0.3s ease;
            &:hover {
                color: var.$color-accent;
            }
        }
    }
}

 .popular-posts-list {
    list-style: none;
    padding: 0;
    margin: 0;

    li {
      border-bottom: 1px solid var.$color-border;
      &:last-child {
        border-bottom: none;
      }
      a {
        display: block;
        padding: var.$spacing-xs 0;
        font-size: 1.6rem;
        color: var.$color-primary;
        text-decoration: none;
        transition: color 0.3s ease, transform 0.3s ease;
        &:hover {
          color: var.$color-secondary;
          transform: translateX(5px);
        }
      }
    }
  }

// Schools Grid
.schools-grid-container {
    flex-grow: 1;
}

.schools-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var.$spacing-md;

    @include mixin.breakpoint-up(md) {
        grid-template-columns: repeat(2, 1fr);
    }
    @include mixin.breakpoint-up(lg) { // Changed from 1024px to lg
        grid-template-columns: repeat(3, 1fr); 
    }
}

// School Card - Horizontal Layout
.school-card--horizontal {
    display: flex;
    flex-direction: column;
    background-color: #fff;
    border-radius: var.$border-radius-lg;
    box-shadow: var.$box-shadow-base;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    

    &:hover {
        transform: translateY(-5px);
        box-shadow: var.$box-shadow-lg;
    }

    @include mixin.breakpoint-up(sm) {
        flex-direction: row;
    }
    @include mixin.breakpoint-up(lg) {
        flex-direction: column;
    }

    .school-card__image-wrapper {
        position: relative;
        flex-shrink: 0;
        width: 100%;
        height: 20rem;
        
        @include mixin.breakpoint-up(sm) {
            width: 20rem;
            height: auto;
        }
        
        @include mixin.breakpoint-up(lg) {
            width: 100%;
            height: 20rem;
        }
    }
    
    .school-card__image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }

    .school-card__tag {
        position: absolute;
        top: var.$spacing-xs;
        right: var.$spacing-xs;
        background-color: var.$color-accent;
        color: #fff;
        padding: 0.3rem 0.8rem; // تم تصغير حجم البادينج
        border-radius: var.$border-radius-base;
        font-size: 1.2rem;
        font-weight: bold;
    }

    .school-card__content {
        padding: var.$spacing-sm; // تم تصغير البادينج العام للمحتوى
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        flex-grow: 1;
    }

    .school-card__title {
        font-size: 2rem; // تم تصغير حجم العنوان
        margin-bottom: var.$spacing-xs;
        a {
            color: var.$color-primary;
            text-decoration: none;
            transition: color 0.3s ease;
            font-weight: 600;
            &:hover { color: var.$color-secondary; }
        }
    }

    .school-card__meta {
        display: flex;
        align-items: center;
        gap: var.$spacing-sm;
        font-size: 1.4rem;
        color: var.$color-text-dark; 
        margin-bottom: var.$spacing-xs;

        .fa-star { color: #FFD700; }
        .school-card__curriculum {
            background-color: var.$color-secondary;
            color: #fff;
            padding: 0.3rem 0.6rem; // تم تصغير البادينج
            border-radius: var.$border-radius-base;
            font-size: 1.2rem;
        }
    }

    .school-card__info {
        // margin-bottom: var.$spacing-sm;
        font-size: 1.4rem;

        color: var.$color-text-dark;
        .fas { color: var.$color-primary; margin: 0.5rem; }
    }

    .school-card__description {
        font-size: 1.4rem;
        line-height: 1.5; // تم تقليل ارتفاع السطر قليلاً
        color: var.$color-text-dark;
        margin-bottom: var.$spacing-sm;
        display: -webkit-box; // لقص النص
        // -webkit-line-clamp: 2; // عرض سطرين فقط
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis; 
    }

    .school-card__facilities {
        list-style: none;
        padding: 0;
        margin: 0 var.$spacing-xs var.$spacing-sm 0;
        display: flex;
        flex-wrap: wrap;
        gap: var.$spacing-xs;
        font-size: 1.3rem;
        color: var.$color-text-dark;
        
        li {
            background-color: var.$color-background-light;
            border: 1px solid var.$color-border;
            padding: 0.4rem 0.8rem; // تم تصغير البادينج
            border-radius: var.$border-radius-base;
            .fas { color: var.$color-primary; margin-left: 0.5rem; }
        }
    }

    .button {
        padding-top: 1rem; 
        padding-bottom: 1rem; 
        font-size: var.$font-size-base-a;
    }

}

// Pagination
.pagination {
    margin-top: var.$spacing-lg;
    text-align: center;
    ul {
        list-style: none;
        padding: 0;
        margin: 0;
        display: inline-flex;
        gap: var.$spacing-xs;

        li a {
            display: block;
            padding: 0.8rem 1.2rem; // تم تصغير البادينج
            border: 1px solid var.$color-border;
            border-radius: var.$border-radius-base;
            color: var.$color-primary;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: var.$font-size-base;

            &:hover, &.active {
                background-color: var.$color-primary;
                color: #fff;
                border-color: var.$color-primary;
            }
        }
    }
}

// School Sidebar (قائمة جانبية)
.sidebar {
    flex-basis: 30rem; // تم تصغير عرض الشريط الجانبي قليلاً
    flex-shrink: 0;
    
    .sidebar-module {
        background-color: #fff;
        padding: var.$spacing-md;
        border-radius: var.$border-radius-base;
        box-shadow: var.$box-shadow-base;
        margin-bottom: var.$spacing-md;
        
        h3 {
            font-size: 2.2rem;
            color: var.$color-primary;
            margin-bottom: var.$spacing-md;
            position: relative;
            padding-bottom: var.$spacing-sm;

            @include mixin.breakpoint-down(sm) {
                font-size: var.$font-size-h3;
            }
            
            &::after {
                content: '';
                position: absolute;
                bottom: 0; 
                right: 0;
                width: 5rem;
                height: 3px;
                background-color: var.$color-accent;
                border-radius: 2px;
            }
        }
        p {
            font-size: var.$font-size-base;
            line-height: var.$line-height-base;
            margin-bottom: var.$spacing-md;
        }
    }

    
    // Filter Module
    .filter-group {
        margin-bottom: var.$spacing-md;
        label {
            display: block;
            font-size: var.$font-size-base;
            font-weight: 500;
            color: var.$color-form-label;
            margin-bottom: var.$spacing-xs;
        }
        select {
            width: 100%;
            padding: var.$spacing-sm;
            border: 1px solid var.$color-form-input-border;
            border-radius: var.$border-radius-base;
            font-size: var.$font-size-base;
            appearance: none; 
            background-color: #fff;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="%23333"><path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" fill-rule="evenodd"></path></svg>');
            background-repeat: no-repeat;
            background-position: left 1rem center; 
            background-size: 1.5rem;
            cursor: pointer;
            &:focus {
                outline: none;
                border-color: var.$color-form-input-focus;
            }
        }
    }
    .filter-apply {
        margin-top: var.$spacing-sm;
    }
}

.filter-modal {
    display: none; // مخفي بشكل افتراضي
    position: fixed; // ليبقى فوق المحتوى
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); // خلفية شبه شفافة
    z-index: 1000; // ليكون فوق كل شيء آخر

    &.show {
        @include mixin.flex-center; // لتوسيط المحتوى
    }

    .filter-modal-content {
        background-color: #fff;
        padding: var.$spacing-md;
        border-radius: var.$border-radius-lg;
        box-shadow: var.$box-shadow-lg;
        width: 90%;
        max-width: 40rem; // عرض أقصى للمودال
        position: relative;

        .close-button {
            position: absolute;
            top: var.$spacing-sm;
            left: var.$spacing-sm;
            background: none;
            border: none;
            font-size: 2.4rem;
            cursor: pointer;
            color: var.$color-text-dark;
            &:hover {
                color: var.$color-error;
            }
        }

        h3 {
            font-size: var.$font-size-h3;
            color: var.$color-primary;
            margin-bottom: var.$spacing-md;
            text-align: right; // لتتوافق مع اتجاه RTL
            position: relative;
            padding-bottom: var.$spacing-sm;

            &::after {
                content: '';
                position: absolute;
                bottom: 0; 
                right: 0; // تغيير الاتجاه
                width: 5rem;
                height: 3px;
                background-color: var.$color-accent;
                border-radius: 2px;
            }
        }

        .filter-group {
            margin-bottom: var.$spacing-md;
            label {
                display: block;
                font-size: var.$font-size-base;
                font-weight: 500;
                color: var.$color-form-label;
                margin-bottom: var.$spacing-xs;
            }
            select {
                width: 100%;
                color: var.$color-background-dark;
                padding: var.$spacing-sm;
                border: 1px solid var.$color-background-dark;
                border-radius: var.$border-radius-base;
                font-size: var.$font-size-base;
                
                appearance: none; 
                background-color: #fff;
                background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="%23333"><path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" fill-rule="evenodd"></path></svg>');
                background-repeat: no-repeat;
                background-position: left 1rem center; 
                background-size: 1.5rem;
                cursor: pointer;
                &:focus {
                    outline: none;
                }

                option {
                    color: var.$color-primary-light;
                    &:focus , .hover{
                        color:#FFD700
                    }
                }
            }
        }
        .filter-apply {
            margin-top: var.$spacing-sm;
            width: 100%;
        }
    }
}



// Utility Classes
.text-center {
    text-align: center;
}
.margin-top-lg {
    margin-top: var.$spacing-lg;
}
.margin-bottom-lg {
    margin-bottom: var.$spacing-lg;
}